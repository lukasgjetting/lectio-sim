{"version":3,"sources":["webpack:///webpack/bootstrap 3fffcff739b35998f138","webpack:///./scripts/main.js","webpack:///./scripts/rendering/canvas.js","webpack:///./scripts/rendering/renderer.js","webpack:///./scripts/students.js","webpack:///./scripts/student.js","webpack:///./scripts/vector.js","webpack:///./scripts/config.js","webpack:///./scripts/pathfinding.js","webpack:///./scripts/layout.js","webpack:///./scripts/waypoint.js","webpack:///./scripts/utils.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA,EAAC,I;;;;;;ACLD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,qBAAoB,qBAAqB;AACzC;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC,I;;;;;;AC9BD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,6BAA6B;AAC9C,mBAAkB,0CAA0C;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;ACvED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;AC7BD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACnDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;ACzCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;ACrBD;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,kBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,sCAAsC;AACxD;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;ACjDD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC,I;;;;;;ACrBD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;ACpCD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC,I","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3fffcff739b35998f138\n **/","(function() {\n\tconst canvas = require('./rendering/canvas.js');\n\tconst students = require('./students.js');\n\t\n\tcanvas.animate();\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/main.js\n ** module id = 0\n ** module chunks = 0\n **/","(function() {\n\tconst renderer = require('./renderer.js');\n\tconst students = require('../students.js');\n\t\n\tconst canvas = document.getElementById('canvas');\n\tconst ctx = canvas.getContext('2d');\n\n\twindow.requestAnimFrame = (function() {\n\t    return window.requestAnimationFrame       ||\n\t    \t   window.webkitRequestAnimationFrame ||\n\t    \t   window.mozRequestAnimationFrame    ||\n\t    \t   window.oRequestAnimationFrame      ||\n\t    \t   window.msRequestAnimationFrame     ||\n\t    \t   function(callback, element) {\n\t               window.setTimeout(callback, 1000 / 60);\n\t    \t   };\n\t})();\n\t\n\tfunction animate() {\n\t    requestAnimFrame(animate);\n\t    renderer.render(ctx);\n\t    for (var i = 0; i < students.length; i++) {\n\t    \tstudents[i].move();\n\t    }\n\t}\n\t\n\tmodule.exports = {\n\t\tanimate: animate\n\t};\n\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/rendering/canvas.js\n ** module id = 1\n ** module chunks = 0\n **/","(function() {\n\tconst students = require('../students.js');\n\tconst layout = require('../layout.js');\n\tconst config = require('../config.js');\n\n\tmodule.exports = {\n\t\trender: render\n\t};\n\t\t\n\tfunction render(ctx) {\n\t\tctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\t\tif (config.paths.draw) {\n\t\t\tdrawPaths(ctx);\n\t\t}\n\t\tif (config.waypoints.draw) {\n\t\t\tdrawWaypoints(ctx);\n\t\t}\n\t\tif (config.students.draw) {\n\t\t\tdrawStudents(ctx);\n\t\t}\n\t}\n\n\tfunction drawStudents(ctx) {\n\t\tfor (var i = 0; i < students.length; i++) {\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(students[i].position.x, students[i].position.y, config.students.radius, 0, Math.PI * 2);\n\t\t\tctx.fillStyle = students[i].color;\n\t\t\tctx.fill();\n\t\t}\n\t}\n\t\n\tfunction drawWaypoints(ctx) {\n\t\tfor (var i = 0; i < layout.waypoints.length; i++) {\n\t\t\tif (layout.waypoints[i]) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(\n\t\t\t\t\tlayout.waypoints[i].position.x - layout.waypoints[i].width/2,\n\t\t\t\t\tlayout.waypoints[i].position.y - layout.waypoints[i].height/2,\n\t\t\t\t\tlayout.waypoints[i].width,\n\t\t\t\t\tlayout.waypoints[i].height\n\t\t\t\t);\n\t\t\t\tctx.fillStyle = config.waypoints.color;\n\t\t\t\tctx.fill();\n\t\t\t\tif (config.waypoints.drawNumbers) {\n\t\t\t\t\tctx.fillStyle = '#000000';\n\t\t\t\t\tctx.fillText(i, layout.waypoints[i].position.x, layout.waypoints[i].position.y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction drawPaths(ctx) {\n\t\tlet lines = [];\n\t\tfor (let i = 0; i < layout.waypoints.length; i++) {\n\t\t\tfor (let j = 0; j < layout.waypoints[i].neighbors.length; j++) {\n\t\t\t\tlet line = {\n\t\t\t\t\tpoint1: layout.waypoints[i].position,\n\t\t\t\t\tpoint2: layout.waypoints[layout.waypoints[i].neighbors[j]].position\n\t\t\t\t};\n\t\t\t\tif (lines.indexOf(line) == -1) {\n\t\t\t\t\tlines.push(line);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(line.point1.x, line.point1.y);\n\t\t\t\t\tctx.lineTo(line.point2.x, line.point2.y);\n\t\t\t\t\tctx.lineWidth = config.paths.width;\n\t\t\t\t\tctx.strokeStyle = config.paths.color;\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/rendering/renderer.js\n ** module id = 2\n ** module chunks = 0\n **/","(function() {\n\tconst Student = require('./student.js');\n\tconst Waypoint = require('./waypoint.js');\n\tconst Vector = require('./vector.js');\n\tconst utils = require('./utils.js');\n\tconst waypoints = require('./layout.js').waypoints;\n\tconst config = require('./config.js');\n\t\n\tlet students = [];\n\tinitialize();\n\t\n\tmodule.exports = students;\n\t\n\t// Todo: Load from scrape\n\tfunction initialize() {\n\t\tstudents = [];\n\t\tfor (let i = 0; i < 100; i++) {\n\t\t\tconst waypoint = waypoints[utils.randomInt(0, waypoints.length - 1)];\n\t\t\tconst destination = waypoints[utils.randomInt(0, waypoints.length - 1)];\n\t\t\tlet color;\n\t\t\tif (config.students.useRandomColors) {\n\t\t\t\tcolor = utils.randomColor();\n\t\t\t} else {\n\t\t\t\tcolor = config.students.color;\n\t\t\t}\n\t\t\tconst student = new Student(waypoint, destination, color);\n\t\t\tstudents.push(student);\n\t\t}\n\t}\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/students.js\n ** module id = 3\n ** module chunks = 0\n **/","(function() {\n\tconst Vector = require('./vector.js');\n\tconst config = require('./config.js');\n\tconst pathfinding = require('./pathfinding.js');\n\t\n\tmodule.exports = class Student {\n\t\tconstructor(waypoint, destination, color) {\n\t\t\tthis.position = waypoint.variation();\n\t\t\tif (this.position === undefined) {\n\t\t\t\tposition = new Vector();\n\t\t\t}\n\t\t\tthis.color = color;\n\t\t\tif (this.color === undefined) {\n\t\t\t\tcolor = 'rgba(0, 0, 0, 1)';\n\t\t\t}\n\t\t\tthis.shouldMove = true;\n\t\t\tthis.speed = config.students.speed;\n\t\t\t\n\t\t\tthis.route = pathfinding.calculateRoute(waypoint, destination);\n\t\t\tif (this.route !== undefined && this.route.length > 0) {\n\t\t\t\tthis.targetPosition = this.route[0].variation();\n\t\t\t}\n\t\t}\n\t\t\n\t\tmove() {\n\t\t\tif (this.shouldMove && this.targetPosition !== undefined) {\n\t\t\t\tconst direction = this.targetPosition.sub(this.position);\n\t\t\t\tconst normalized = direction.normalize();\n\t\t\t\tthis.position = this.position.add(normalized.multiply(this.speed));\n\t\t\t\tif (this.isAtTarget()) {\n\t\t\t\t\tthis.route.shift();\n\t\t\t\t\tif (this.route.length === 0) {\n\t\t\t\t\t\tthis.shouldMove = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.targetPosition = this.route[0].variation();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tisAtTarget() {\n\t\t\tconst left = this.targetPosition.x - config.students.targetThreshold;\n\t\t\tconst right = this.targetPosition.x + config.students.targetThreshold;\n\t\t\tconst upper = this.targetPosition.y - config.students.targetThreshold;\n\t\t\tconst lower = this.targetPosition.y + config.students.targetThreshold;\n\t\t\treturn (this.position.x > left &&\n\t\t\t\t\tthis.position.x < right &&\n\t\t\t\t\tthis.position.y > upper &&\n\t\t\t\t\tthis.position.y < lower);\n\t\t}\n\t};\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/student.js\n ** module id = 4\n ** module chunks = 0\n **/","(function() {\n\tmodule.exports = class Vector {\n\t\tconstructor(x, y) {\n\t\t\tthis.x = x;\n\t\t\tif (x === undefined) {\n\t\t\t\tthis.x = 0;\n\t\t\t}\n\t\t\tthis.y = y;\n\t\t\tif (y === undefined) {\n\t\t\t\tthis.y = 0;\n\t\t\t}\n\t\t}\n\t\t\n\t\tadd(vector) {\n\t\t\treturn new Vector(this.x + vector.x, this.y + vector.y);\n\t\t}\n\t\t\n\t\tsub(vector) {\n\t\t\treturn new Vector(this.x - vector.x, this.y - vector.y);\n\t\t}\n\t\t\n\t\tdivide(number) {\n\t\t\treturn new Vector(this.x / number, this.y / number);\n\t\t}\n\t\t\n\t\tmultiply(number) {\n\t\t\treturn new Vector(this.x * number, this.y * number);\n\t\t}\n\t\t\n\t\tlength() {\n\t\t\treturn Math.sqrt(Math.abs(Math.pow(this.x, 2) + Math.pow(this.y, 2)));\n\t\t}\n\t\t\n\t\tlengthNotSquared() {\n\t\t\treturn Math.abs(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n\t\t}\n\t\t\n\t\tnormalize() {\n\t\t\treturn this.divide(this.length());\n\t\t}\n\t};\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/vector.js\n ** module id = 5\n ** module chunks = 0\n **/","(function() {\n\tmodule.exports = {\n\t\tstudents: {\n\t\t\tdraw: true,\n\t\t\tradius: 10,\n\t\t\tuseRandomColors: true,\n\t\t\tspeed: 2,\n\t\t\tcolor: 'rgba(255, 0, 0, 1)',\n\t\t\ttargetThreshold: 3\n\t\t},\n\t\twaypoints: {\n\t\t\tdraw: true,\n\t\t\tdrawNumbers: false,\n\t\t\tcolor: 'rgba(127, 255, 127, 1)',\n\t\t},\n\t\tpaths: {\n\t\t\tdraw: true,\n\t\t\twidth: 2,\n\t\t\tcolor: 'rgba(0, 0, 0, 1)',\n\t\t}\n\t};\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/config.js\n ** module id = 6\n ** module chunks = 0\n **/","(function() {\n\tconst waypoints = require('./layout.js').waypoints;\n\t\n\tmodule.exports = {\n\t\tcalculateRoute: calculateRoute\n\t};\n\t\n\tlet routes = [];\n\t\n\tfunction calculateRoute(start, target) {\n\t\troutes = [];\n\t\tnext(target, start, 0, [target]);\n\t\tif (routes.length > 0) {\n\t\t\tlet bestRoute;\n\t\t\tfor (let i = 0; i < routes.length; i++) {\n\t\t\t\tif (bestRoute === undefined || bestRoute.distance > routes[i].distance) {\n\t\t\t\t\tbestRoute = routes[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn bestRoute.route.reverse();\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\t\n\tfunction next(waypoint, target, distance, route) {\n\t\tfor (let i = 0; i < waypoint.neighbors.length; i++) {\n\t\t\tconst neighbor = waypoints[waypoint.neighbors[i]];\n\t\t\tconst newDistance = distance + dist(waypoint, neighbor);\n\t\t\tlet fork = route.slice(0);\n\t\t\tif (fork.indexOf(neighbor) == -1) {\n\t\t\t\tfork.push(neighbor);\n\t\t\t\tif (neighbor == target) {\n\t\t\t\t\troutes.push({ route: route, distance: newDistance });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tnext(neighbor, target, newDistance, fork);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction dist(waypoint1, waypoint2) {\n\t\tx1 = waypoint1.position.x;\n\t\tx2 = waypoint2.position.x;\n\t\ty1 = waypoint1.position.y;\n\t\ty2 = waypoint2.position.y;\n\t\treturn Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\t}\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/pathfinding.js\n ** module id = 7\n ** module chunks = 0\n **/","(function() {\n\tconst Vector = require('./vector.js');\n\tconst Waypoint = require('./waypoint.js');\n\n\tconst waypoints = [\n\t\tnew Waypoint(new Vector(90, 300),  30, 30, [1]),\n\t\tnew Waypoint(new Vector(175, 300), 30, 30, [0,2,3]),\n\t\tnew Waypoint(new Vector(175, 425), 30, 30, [1,9]),\n\t\tnew Waypoint(new Vector(175, 175), 30, 30, [1,4]),\n\t\tnew Waypoint(new Vector(290, 175), 30, 30, [3,5]),\n\t\tnew Waypoint(new Vector(290, 55),  30, 30, [4,6]),\n\t\tnew Waypoint(new Vector(350, 55),  30, 30, [5,7]),\n\t\tnew Waypoint(new Vector(350, 175), 30, 30, [6,8]),\n\t\tnew Waypoint(new Vector(500, 175), 30, 30, [7,10]),\n\t\tnew Waypoint(new Vector(500, 425), 30, 30, [10,2]),\n\t\tnew Waypoint(new Vector(500, 300), 30, 30, [8,9])\n\t];\n\t\n\tmodule.exports = {\n\t\twaypoints: waypoints\n\t};\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/layout.js\n ** module id = 8\n ** module chunks = 0\n **/","(function() {\n\tconst Vector = require('./vector.js');\n\tconst utils = require('./utils.js');\n\tconst config = require('./config.js');\n\t\n\tmodule.exports = class Waypoint {\n\t\tconstructor(position, width, height, neighbors) {\n\t\t\tthis.position = position;\n\t\t\tif (position === undefined) {\n\t\t\t\tthis.position = new Vector();\n\t\t\t}\n\t\t\tthis.width = width;\n\t\t\tif (width === undefined) {\n\t\t\t\tthis.width = 0;\n\t\t\t}\n\t\t\tthis.height = height;\n\t\t\tif (height === undefined) {\n\t\t\t\tthis.height = 0;\n\t\t\t}\n\t\t\tthis.neighbors = neighbors;\n\t\t\tif (neighbors === undefined) {\n\t\t\t\tthis.neighbors = [];\n\t\t\t}\n\t\t}\n\t\t\n\t\tvariation() {\n\t\t\treturn this.position.sub(\n\t\t\t\tnew Vector(\n\t\t\t\t\tutils.randomInt(-this.width / 2 + config.students.radius,\n\t\t\t\t\t\t\t\t\t this.width / 2 - config.students.radius),\n\t\t\t\t\tutils.randomInt(-this.height / 2 + config.students.radius,\n\t\t\t\t\t\t\t\t\t this.height / 2 - config.students.radius)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/waypoint.js\n ** module id = 9\n ** module chunks = 0\n **/","(function() {\n\tmodule.exports = {\n\t\trandomInt: randomInt,\n\t\trandomDouble: randomDouble,\n\t\trandomColor: randomColor\n\t};\n\t\t\n\tfunction randomInt(min, max) {\n\t    return Math.floor(Math.random() * (max - min + 1)) + min;\n\t}\n\t\n\tfunction randomDouble(min, max) {\n\t    return Math.random() * (max - min + 1) + min;\n\t}\n\t\n\tfunction randomColor() {\n\t    return 'rgba(' + randomInt(0, 255) + ', ' + randomInt(0, 255) + ', ' + randomInt(0, 255) + ', 1)';\n\t}\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/utils.js\n ** module id = 10\n ** module chunks = 0\n **/"],"sourceRoot":""}